import{r as j,p as S,h as $,f as s,b as t,F as _,m as u,o,a as w,w as b,d as x,t as e,u as m,j as p,g}from"./app-BfoFl66u.js";import{a as C}from"./functions-CdnaNR_l.js";const M={class:"mx-1 py-1 sm:px-6 lg:px-8 text-xs"},O={class:"grid grid-cols-3 gap-1"},A={class:"grid grid-cols-3 border-t pt-1"},B={class:"grow"},D={key:0},F={key:1},N=["onClick"],V={class:"flex items-center"},K={class:"flex"},P={key:0},I={class:"rounded p-1 bg-red-500 text-white font-bold text-center"},Y={key:1},Z={class:"rounded p-1 bg-yellow-500 text-white font-bold text-center"},z={class:"flex ml-1"},E={key:0},J={class:"rounded p-1 bg-emerald-500 text-white font-bold text-center"},L={key:1,class:"font-bold"},T={class:"flex"},q={key:0,class:"w-8 h-8 rounded-full overflow-hidden"},G=["src"],H={key:1,class:"w-8 h-8 rounded-full overflow-hidden bg-slate-200 text-slate-500"},Q={key:0,class:"border rounded px-1"},R={class:"w-full text-xs"},U={key:0,class:"text-indigo-500"},W={key:1,class:"text-pink-500"},X={key:0,class:"flex border-t pt-1 justify-center"},tt={class:"grid grid-cols-2 border-t pt-1"},et=["href"],st={class:"font-bold"},ot={class:"flex"},dt={class:"flex"},lt={key:0},nt={class:"rounded p-1 bg-red-500 text-white font-bold text-center"},it={key:1},rt={class:"rounded p-1 bg-yellow-500 text-white font-bold text-center"},at={class:"flex ml-1 items-center"},ct={key:0},_t={class:"rounded p-1 bg-emerald-500 text-white font-bold text-center"},ut={key:1,class:"font-bold"},ht={class:"border rounded px-1 hidden",id:"nota-items-{{ $key }}-{{ $key_nota }}"},vt={class:"w-full text-xs"},ft={key:0,class:"flex border-t pt-1 justify-center"},yt={class:"grid grid-cols-2 border-t pt-1"},gt=["href"],mt={href:"#",class:"text-sky-700"},wt={key:0},bt={href:"#",class:"text-sky-700"},xt={class:"flex"},pt={class:"flex"},kt={key:0},jt={class:"rounded p-1 bg-red-500 text-white font-bold text-center"},St={key:1},$t={class:"rounded p-1 bg-yellow-500 text-white font-bold text-center"},Ct={class:"flex ml-1 items-center"},Mt={key:0},Ot={class:"rounded p-1 bg-emerald-500 text-white font-bold text-center"},At={key:1,class:"font-bold"},Bt={class:"border rounded px-1 hidden",id:"srjalan-items-{{ $key }}-{{ $key2 }}-{{ $key_srjalan }}"},Dt={class:"w-full text-xs"},Ft={key:1},Pt={__name:"SPKs",props:{spks:{type:Object},profile_pictures_paths:{type:Array},nama_pelanggans:{type:Array},col_notas:{type:Object},col_srjalans:{type:Object},col_spk_produks:{type:Object},col_spk_produk_notas:{type:Object},col_spk_produk_nota_srjalans:{type:Object}},setup(c){const v=c,f=j([]);S(()=>{v.spks.length&&(f.value=Array(v.spks.length).fill(!1))}),$(()=>v.spks.map(a=>{const d=new Date(a.created_at);let l=null,r=null;return a.finished_at&&(l=new Date(a.finished_at),r={day:l.getDate().toString().padStart(2,"0"),month:(l.getMonth()+1).toString().padStart(2,"0"),year:l.getFullYear().toString().slice(-2)}),{...a,formattedCreatedAt:{day:d.getDate().toString().padStart(2,"0"),month:(d.getMonth()+1).toString().padStart(2,"0"),year:d.getFullYear().toString().slice(-2)},formattedFinishedAt:r}}));function k(a){f.value[a]=!f.value[a]}return(a,d)=>(o(),s("div",M,[t("div",O,[d[9]||(d[9]=t("div",{class:"text-center bg-violet-200 rounded-t font-bold text-slate-700 py-1"},"SPK",-1)),d[10]||(d[10]=t("div",{class:"text-center bg-emerald-200 rounded-t font-bold text-slate-700 py-1"},"Nota",-1)),d[11]||(d[11]=t("div",{class:"text-center bg-orange-200 rounded-t font-bold text-slate-700 py-1"},"SJ",-1)),(o(!0),s(_,null,u(c.spks,(l,r)=>(o(),s(_,null,[t("div",null,[t("div",A,[t("div",B,[w(m(p),{href:a.route("spks.show",l.id),class:"font-bold text-indigo-500"},{default:b(()=>[x(e(l.no_spk),1)]),_:2},1032,["href"]),t("div",null,[w(m(p),{href:a.route("spks.show",l.id),class:"text-indigo-800"},{default:b(()=>[l.pxr_name?(o(),s("span",D,e(l.pxr_name),1)):(o(),s("span",F,e(l.pelanggan_nama),1))]),_:2},1032,["href"])]),t("div",null,[t("button",{class:"rounded bg-white shadow drop-shadow",onClick:n=>k(r)},d[1]||(d[1]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",class:"w-3 h-3"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 8.25l-7.5 7.5-7.5-7.5"})],-1)]),8,N)])]),t("div",V,[t("div",K,[l.finished_at?(o(),s("div",Y,[t("div",Z,[t("div",null,e(l.created_day),1),t("div",null,e(l.created_month)+"-"+e(l.created_year),1)])])):(o(),s("div",P,[t("div",I,[t("div",null,e(l.created_day),1),t("div",null,e(l.created_month)+"-"+e(l.created_year),1)])]))]),t("div",z,[l.finished_at?(o(),s("div",E,[t("div",J,[t("div",null,e(l.finished_day),1),t("div",null,e(l.finished_month)+"-"+e(l.finished_year),1)])])):(o(),s("span",L,"--"))])]),t("div",T,[v.profile_pictures_paths[r]?(o(),s("div",q,[t("img",{class:"w-full",src:v.profile_pictures_paths[r],alt:""},null,8,G)])):(o(),s("div",H,d[2]||(d[2]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",class:"size-8"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"})],-1)])))])]),f.value[r]?(o(),s("div",Q,[t("table",R,[(o(!0),s(_,null,u(c.col_spk_produks[r],n=>(o(),s("tr",null,[t("td",null,e(n.nama_produk),1),t("td",null,[x(e(n.jumlah)+" ",1),n.deviasi_jml>0?(o(),s("span",U," +"+e(n.deviasi_jml),1)):n.deviasi_jml<0?(o(),s("span",W," -"+e(n.deviasi_jml),1)):g("",!0)])]))),256))])])):g("",!0)]),t("div",null,[c.col_notas[r].length===0?(o(),s("div",X,d[3]||(d[3]=[t("div",null,"none",-1)]))):(o(!0),s(_,{key:1},u(c.col_notas[r],(n,h)=>(o(),s("div",null,[t("div",tt,[t("div",null,[t("a",{class:"font-bold text-emerald-400",href:a.route("spks.show",l.id)},e(n.no_nota),9,et),d[4]||(d[4]=t("div",null,[t("button",{class:"rounded bg-white shadow drop-shadow"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",class:"w-3 h-3"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 8.25l-7.5 7.5-7.5-7.5"})])])],-1)),t("div",st,e(m(C)(n.harga_total)),1)]),t("div",ot,[t("div",dt,[n.finished_at?(o(),s("div",it,[t("div",rt,[t("div",null,e(n.created_day),1),t("div",null,e(n.created_month)+"-"+e(n.created_year),1)])])):(o(),s("div",lt,[t("div",nt,[t("div",null,e(n.created_day),1),t("div",null,e(n.created_month)+"-"+e(n.created_year),1)])]))]),t("div",at,[n.finished_at?(o(),s("div",ct,[t("div",_t,[t("div",null,e(n.finished_day),1),t("div",null,e(n.finished_month)+"-"+e(n.finished_year),1)])])):(o(),s("span",ut,"--"))])])]),t("div",ht,[t("table",vt,[(o(!0),s(_,null,u(c.col_spk_produk_notas[r][h],i=>(o(),s("tr",null,[t("td",null,e(i.nama_nota),1),t("td",null,e(i.jumlah),1)]))),256))])])]))),256))]),t("div",null,[(o(!0),s(_,null,u(c.col_notas[r],(n,h)=>(o(),s(_,null,[c.col_srjalans[r][h].length?(o(!0),s(_,{key:1},u(c.col_srjalans[r][h],(i,Nt)=>(o(),s("div",null,[t("div",yt,[t("div",null,[t("a",{class:"font-bold text-sky-400",href:a.route("spks.show",l.id)},e(i.no_srjalan),9,gt),d[7]||(d[7]=t("span",null,"ekspedisi: ",-1)),t("a",mt,e(i.ekspedisi_nama),1),i.transit_nama?(o(),s("span",wt," - transit: ")):g("",!0),t("a",bt,e(i.transit_nama),1),t("div",null,[t("button",{id:"toggle-srjalan-items-{{ $key }}-{{ $key2 }}-{{ $key_srjalan }}",class:"rounded bg-white shadow drop-shadow",onClick:d[0]||(d[0]=y=>a.showDropdown(this.id,"srjalan-items-{{ $key }}-{{ $key2 }}-{{ $key_srjalan }}"))},d[6]||(d[6]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",class:"w-3 h-3"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 8.25l-7.5 7.5-7.5-7.5"})],-1)]))])]),t("div",xt,[t("div",pt,[i.finished_at?(o(),s("div",St,[t("div",$t,[t("div",null,e(i.created_day),1),t("div",null,e(i.created_month)+"-"+e(i.created_year),1)])])):(o(),s("div",kt,[t("div",jt,[t("div",null,e(i.created_day),1),t("div",null,e(i.created_month)+"-"+e(i.created_year),1)])]))]),t("div",Ct,[i.finished_at?(o(),s("div",Mt,[t("div",Ot,[t("div",null,e(i.finished_day),1),t("div",null,e(i.finished_month)+"-"+e(i.finished_year),1)])])):(o(),s("span",At,"--"))])])]),t("div",Bt,[t("table",Dt,[c.col_spk_produk_nota_srjalans.indexOf(r)!==-1?(o(),s(_,{key:0},[c.col_spk_produk_nota_srjalans[r].indexOf(h)!==-1?(o(!0),s(_,{key:0},u(c.col_spk_produk_nota_srjalans[r][h],y=>(o(),s("tr",null,[t("td",null,e(y.nama_nota),1),t("td",null,e(y.jumlah_packing),1),t("td",null,e(y.tipe_packing),1)]))),256)):g("",!0)],64)):(o(),s("tr",Ft,d[8]||(d[8]=[t("td",null,"nama nota ??",-1),t("td",null,"jumlah packing ??",-1),t("td",null,"tipe packing ??",-1)])))])])]))),256)):(o(),s("div",ft,d[5]||(d[5]=[t("div",null,"none",-1)])))],64))),256))])],64))),256))])]))}};export{Pt as default};
